(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[268],{285:(e,t,s)=>{"use strict";s.d(t,{$:()=>l,r:()=>o});var n=s(5155),r=s(9708),a=s(2085);s(2115);var i=s(9434);let o=(0,a.F)("cursor-pointer inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",{variants:{variant:{default:"bg-primary text-primary-foreground shadow-xs hover:bg-primary/90",destructive:"bg-destructive text-white shadow-xs hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border bg-background shadow-xs hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50",secondary:"bg-secondary text-secondary-foreground shadow-xs hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",icon:"size-9"}},defaultVariants:{variant:"default",size:"default"}});function l(e){let{className:t,variant:s,size:a,asChild:l=!1,...c}=e,d=l?r.DX:"button";return(0,n.jsx)(d,{"data-slot":"button",className:(0,i.cn)(o({variant:s,size:a,className:t})),...c})}},6935:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>_});var n=s(5155),r=s(2115),a=s(5005),i=s(9434);s(285);let o=r.createContext(null);function l(){let e=r.useContext(o);if(!e)throw Error("useCarousel must be used within a <Carousel />");return e}function c(e){let{orientation:t="horizontal",opts:s,setApi:l,plugins:c,className:d,children:u,...x}=e,[h,p]=(0,a.A)({...s,axis:"horizontal"===t?"x":"y"},c),[m,g]=r.useState(!1),[f,v]=r.useState(!1),j=r.useCallback(e=>{e&&(g(e.canScrollPrev()),v(e.canScrollNext()))},[]),b=r.useCallback(()=>{null==p||p.scrollPrev()},[p]),w=r.useCallback(()=>{null==p||p.scrollNext()},[p]),y=r.useCallback(e=>{"ArrowLeft"===e.key?(e.preventDefault(),b()):"ArrowRight"===e.key&&(e.preventDefault(),w())},[b,w]);return r.useEffect(()=>{p&&l&&l(p)},[p,l]),r.useEffect(()=>{if(p)return j(p),p.on("reInit",j),p.on("select",j),()=>{null==p||p.off("select",j)}},[p,j]),(0,n.jsx)(o.Provider,{value:{carouselRef:h,api:p,opts:s,orientation:t||((null==s?void 0:s.axis)==="y"?"vertical":"horizontal"),scrollPrev:b,scrollNext:w,canScrollPrev:m,canScrollNext:f},children:(0,n.jsx)("div",{onKeyDownCapture:y,className:(0,i.cn)("relative",d),role:"region","aria-roledescription":"carousel","data-slot":"carousel",style:{height:"100%"},...x,children:u})})}function d(e){let{className:t,...s}=e,{carouselRef:r,orientation:a}=l();return(0,n.jsx)("div",{ref:r,className:"h-full overflow-hidden","data-slot":"carousel-content",children:(0,n.jsx)("div",{className:(0,i.cn)("flex h-full","horizontal"===a?"-ml-4":"-mt-4 flex-col",t),...s})})}function u(e){let{className:t,...s}=e,{orientation:r}=l();return(0,n.jsx)("div",{role:"group","aria-roledescription":"slide","data-slot":"carousel-item",className:(0,i.cn)("min-w-0 shrink-0 grow-0 basis-full","horizontal"===r?"pl-4":"pt-4",t),...s})}var x=s(5805),h=s(7023),p=s(6824);function m(e){let{date:t=new Date}=e,s=(0,p.GP)(t,"d"),r=(0,p.GP)(t,"EEEE"),a=(0,p.GP)(t,"MMMM, yyyy");return(0,n.jsxs)("section",{className:"flex h-full items-center rounded-lg",children:[(0,n.jsx)("article",{className:"z-20 flex aspect-square h-full items-center justify-center rounded-3xl bg-white p-4 shadow-lg",children:(0,n.jsx)("span",{className:"text-7xl font-bold text-[#15803D]",children:s.padStart(2,"0")})}),(0,n.jsxs)("article",{className:"-ml-2 flex flex-col rounded-r-3xl bg-white px-6 py-2 pl-8 shadow-lg",children:[(0,n.jsx)("span",{className:"text-3xl font-bold text-gray-800",children:r.charAt(0).toUpperCase()+r.slice(1)}),(0,n.jsx)("span",{className:"text-2xl font-bold text-gray-600",children:a.charAt(0).toUpperCase()+a.slice(1)})]})]})}var g=s(4186);function f(){let[e,t]=(0,r.useState)(0),[s,a]=(0,r.useState)(0),[i,o]=(0,r.useState)(0);return(0,r.useEffect)(()=>{let e=setInterval(()=>{let e=new Date;t(e.getHours()),a(e.getMinutes()),o(e.getSeconds())},1e3);return()=>clearInterval(e)},[]),(0,n.jsxs)("section",{className:"flex w-[360px] h-full items-center justify-between rounded-xl bg-white px-6 py-4 text-5xl font-bold text-green-700 shadow-md","aria-label":"Hor\xe1rio atual",children:[(0,n.jsx)(g.A,{size:42}),(0,n.jsx)("span",{className:"w-16 text-center",children:e.toString().padStart(2,"0")}),(0,n.jsx)("span",{children:":"}),(0,n.jsx)("span",{className:"w-16 text-center",children:s.toString().padStart(2,"0")}),(0,n.jsx)("span",{children:":"}),(0,n.jsx)("span",{className:"w-16 text-center",children:i.toString().padStart(2,"0")})]})}var v=s(2098),j=s(8414),b=s(2970),w=s(1320),y=s(7130),N=s(6386),z=s(2851),A=s(4210),D=s(6834),E=s(2960),C=s(3464);let k={0:{icon:(0,n.jsx)(v.A,{size:60,color:"#15803D"}),description:"C\xe9u limpo"},1:{icon:(0,n.jsx)(j.A,{size:60,color:"#15803D"}),description:"Principalmente limpo"},2:{icon:(0,n.jsx)(j.A,{size:60,color:"#15803D"}),description:"Parcialmente nublado"},3:{icon:(0,n.jsx)(b.A,{size:60,color:"#15803D"}),description:"Encoberto"},45:{icon:(0,n.jsx)(w.A,{size:60,color:"#15803D"}),description:"N\xe9voa"},48:{icon:(0,n.jsx)(w.A,{size:60,color:"#15803D"}),description:"N\xe9voa com gelo"},51:{icon:(0,n.jsx)(y.A,{size:60,color:"#15803D"}),description:"Garoa leve"},53:{icon:(0,n.jsx)(y.A,{size:60,color:"#15803D"}),description:"Garoa moderada"},55:{icon:(0,n.jsx)(y.A,{size:60,color:"#15803D"}),description:"Garoa intensa"},56:{icon:(0,n.jsx)(y.A,{size:60,color:"#15803D"}),description:"Garoa congelante leve"},57:{icon:(0,n.jsx)(y.A,{size:60,color:"#15803D"}),description:"Garoa congelante intensa"},61:{icon:(0,n.jsx)(N.A,{size:60,color:"#15803D"}),description:"Chuva leve"},63:{icon:(0,n.jsx)(N.A,{size:60,color:"#15803D"}),description:"Chuva moderada"},65:{icon:(0,n.jsx)(N.A,{size:60,color:"#15803D"}),description:"Chuva intensa"},66:{icon:(0,n.jsx)(N.A,{size:60,color:"#15803D"}),description:"Chuva congelante leve"},67:{icon:(0,n.jsx)(N.A,{size:60,color:"#15803D"}),description:"Chuva congelante intensa"},71:{icon:(0,n.jsx)(z.A,{size:60,color:"#15803D"}),description:"Neve leve"},73:{icon:(0,n.jsx)(z.A,{size:60,color:"#15803D"}),description:"Neve moderada"},75:{icon:(0,n.jsx)(z.A,{size:60,color:"#15803D"}),description:"Neve intensa"},77:{icon:(0,n.jsx)(z.A,{size:60,color:"#15803D"}),description:"Gr\xe3os de neve"},80:{icon:(0,n.jsx)(N.A,{size:60,color:"#15803D"}),description:"Pancada de chuva leve"},81:{icon:(0,n.jsx)(N.A,{size:60,color:"#15803D"}),description:"Pancada de chuva moderada"},82:{icon:(0,n.jsx)(N.A,{size:60,color:"#15803D"}),description:"Pancada de chuva violenta"},85:{icon:(0,n.jsx)(z.A,{size:60,color:"#15803D"}),description:"Pancada de neve leve"},86:{icon:(0,n.jsx)(z.A,{size:60,color:"#15803D"}),description:"Pancada de neve intensa"},95:{icon:(0,n.jsx)(A.A,{size:60,color:"#15803D"}),description:"Trovoada"},96:{icon:(0,n.jsx)(D.A,{size:60,color:"#15803D"}),description:"Trovoada com granizo leve"},99:{icon:(0,n.jsx)(D.A,{size:60,color:"#15803D"}),description:"Trovoada com granizo intenso"}};function S(){let{data:e}=(0,E.I)({queryKey:["get-current-weather"],queryFn:async()=>(await C.A.get("https://api.open-meteo.com/v1/forecast?latitude=-20.896476119395054&longitude=-51.376909189746954&current_weather=true")).data,refetchInterval:36e5});if(!e)return(0,n.jsx)(h.R,{label:"Carregando..."});let{current_weather:t}=e,s=k[t.weathercode]||{icon:(0,n.jsx)(b.A,{size:60,color:"#15803D"}),description:t.weathercode.toString()};return(0,n.jsxs)("section",{className:"flex h-full items-center gap-3 rounded-xl bg-white p-4 shadow-lg",children:[s.icon,(0,n.jsxs)("div",{className:"flex flex-col",children:[(0,n.jsxs)("span",{className:"text-3xl font-medium",children:[t.temperature.toString().replace(".",","),"\xba C"]}),(0,n.jsx)("span",{className:"text-lg text-gray-500",children:s.description})]})]})}var P=s(9660),I=s(6127),F=s(5041);function _(){let e=(0,r.useRef)(!1),t=function(){let[e]=(0,I.ZA)("tela-id");return(0,E.I)({queryKey:["list-screen-announcements",e],queryFn:async()=>(await P.g.get("/announcements_screens/screen/".concat(e))).data,refetchInterval:6e4})}(),s=function(){let[e]=(0,I.ZA)("tela-id");return(0,F.n)({mutationFn:async()=>{await P.g.patch("/screens/".concat(e,"/last-device-seen-at"),{lastDeviceSeenAt:new Date().toISOString()})}})}();return(0,r.useEffect)(()=>{let t=!1;e.current||(e.current=!0,s.mutate());let n=setInterval(()=>{let e=document.body;t=!t,e.style.filter="brightness(".concat(t?97:100,"%)")},6e4),r=setInterval(()=>{s.mutate()},12e4);return()=>{clearInterval(n),clearInterval(r)}},[s]),(0,n.jsxs)("div",{className:"flex h-screen flex-col justify-between gap-6 bg-white",children:[(0,n.jsxs)("header",{className:"flex h-36 flex-wrap items-center justify-between gap-4 bg-[#EEFFEB] px-10 py-4",children:[(0,n.jsxs)("section",{className:"flex items-center gap-6",children:[(0,n.jsx)(m,{}),(0,n.jsx)("div",{className:"my-2 w-[3px] self-stretch bg-[#E5E7EB]"}),(0,n.jsx)(S,{})]}),(0,n.jsxs)("section",{className:"flex items-center gap-6",children:[(0,n.jsx)(f,{}),(0,n.jsx)("div",{className:"my-2 w-[3px] self-stretch bg-[#E5E7EB]"}),(0,n.jsxs)("div",{className:"text-right text-[#1F2937] not-italic",children:[(0,n.jsx)("span",{className:"block text-2xl font-bold",children:"IFMS - Tr\xeas Lagoas"}),(0,n.jsx)("span",{className:"text-xl font-medium",children:"R. Angelo Mel\xe3o, 790"})]})]})]}),(0,n.jsx)("main",{className:"flex w-full flex-1 items-center justify-center bg-white",children:t.isLoading?(0,n.jsx)(h.R,{label:"Carregando an\xfancios..."}):t.isError?(0,n.jsx)("span",{className:"text-red-500",children:"Ocorreu um erro ao carregar os an\xfancios."}):t.data&&0!==t.data.length?(0,n.jsx)(c,{opts:{loop:!0,align:"center"},plugins:[(0,x.A)({delay:1e4})],children:(0,n.jsx)(d,{className:"h-full",style:{height:"100%"},children:t.data.map(e=>(0,n.jsx)(u,{className:"flex h-full items-center justify-center",children:(0,n.jsx)("img",{src:"".concat("http://localhost:4000","/announcements/uploads/").concat(e.mediaFilename),alt:e.name,className:"h-full w-fit rounded-xl object-contain"})},e.id))})}):(0,n.jsx)("span",{className:"text-gray-500",children:"Nenhum an\xfancio dispon\xedvel no momento."})}),(0,n.jsxs)("footer",{className:"flex flex-wrap items-center justify-between rounded-xl bg-[#EEFFEB] px-10 py-4",children:[(0,n.jsx)("img",{src:"/images/ifms-text.png",alt:"Logo IFMS",className:"h-28 rounded-none"}),(0,n.jsx)("section",{className:"rounded-xl bg-white p-3 shadow-md",children:(0,n.jsx)("img",{src:"/images/logo-text.png",alt:"AdTV",className:"size-40"})})]})]})}},7023:(e,t,s)=>{"use strict";s.d(t,{R:()=>a});var n=s(5155),r=s(1154);function a(e){let{label:t="Carregando"}=e;return(0,n.jsxs)("div",{className:"flex items-center gap-2",children:[(0,n.jsx)(r.A,{className:"animate-spin",size:24})," ",t]})}},8372:(e,t,s)=>{Promise.resolve().then(s.bind(s,6935))},9434:(e,t,s)=>{"use strict";s.d(t,{cn:()=>a});var n=s(2596),r=s(9688);function a(){for(var e=arguments.length,t=Array(e),s=0;s<e;s++)t[s]=arguments[s];return(0,r.QP)((0,n.$)(t))}},9660:(e,t,s)=>{"use strict";s.d(t,{g:()=>n});let n=s(3464).A.create({baseURL:"http://localhost:4000",withCredentials:!0,headers:{"Content-Type":"application/json"}})}},e=>{var t=t=>e(e.s=t);e.O(0,[352,144,128,875,824,523,441,684,358],()=>t(8372)),_N_E=e.O()}]);